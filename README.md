# ğŸ“š Reader App - æ²‰æµ¸å¼ iOS é£æ ¼é˜…è¯»å™¨

ä¸€ä¸ªåŸºäº Flutter å¼€å‘çš„é«˜é¢œå€¼ç”µå­ä¹¦é˜…è¯»å™¨ã€‚å®ƒç»“åˆäº† iOS é£æ ¼çš„æè‡´æ¯›ç»ç’ƒè§†è§‰æ•ˆæœã€ä¸æ»‘çš„äº¤äº’åŠ¨ç”»ä»¥åŠAIè¾…åŠ©é˜…è¯»åŠŸèƒ½ï¼Œæ—¨åœ¨æä¾›æœ€èˆ’é€‚çš„ç§»åŠ¨ç«¯é˜…è¯»ä½“éªŒã€‚



## âœ¨ æ ¸å¿ƒåŠŸèƒ½ (Features)

* **ğŸ“– å¤šæ ¼å¼æ”¯æŒ**ï¼šå®Œç¾æ”¯æŒ **EPUB** (å›¾æ–‡æ··æ’)ã€**PDF** å’Œ **TXT** (æ™ºèƒ½åˆ†é¡µ) æ ¼å¼ã€‚
* **ğŸ¨ æè‡´ UI è®¾è®¡**ï¼š
    * **å…¨æ²‰æµ¸å¼ä½“éªŒ**ï¼šé˜…è¯»æ—¶è‡ªåŠ¨éšè—ç³»ç»ŸçŠ¶æ€æ ï¼Œèœå•å”¤å‡ºæ—¶ä¸æ»‘è¿‡æ¸¡ã€‚
    * **é«˜æ€§èƒ½æ¯›ç»ç’ƒ**ï¼šå…¨å±€ç»Ÿä¸€çš„ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿï¼Œé€‚é…æ·±è‰²/æµ…è‰²æ¨¡å¼ï¼ˆæ·±è‰²æ¨¡å¼ä¸‹å‘ˆç°é»‘æ›œçŸ³è´¨æ„Ÿï¼‰ã€‚
    * **iOS é£æ ¼äº¤äº’**ï¼šå¼¹ç°§é˜»å°¼åŠ¨ç”»ã€æ‚¬æµ®èƒ¶å›Šèœå•ã€åº•éƒ¨æ‹–æ‹½é¢æ¿ã€‚
* **ğŸŒ™ å®Œç¾æ·±è‰²æ¨¡å¼**ï¼š
    * æ™ºèƒ½åè‰²å¼•æ“ï¼šEPUB é˜…è¯»å™¨åœ¨æ·±è‰²æ¨¡å¼ä¸‹è‡ªåŠ¨åè½¬è‰²å½©ï¼Œä¿æŠ¤è§†åŠ›ä¸”æ–‡å­—æ¸…æ™°å¯è§ã€‚
    * UI è‡ªé€‚åº”ï¼šèœå•å’Œå¼¹çª—è‡ªåŠ¨åˆ‡æ¢ä¸ºæ·±ç°è‰²åŠé€æ˜èƒŒæ™¯ã€‚
* **ğŸ¤– AI åˆ’è¯è§£è¯»**ï¼šé›†æˆ **DeepSeek API**ï¼Œé€‰ä¸­æ–‡å­—å³å¯ä¸€é”®è·å– AI æ·±åº¦è§£æã€ç¿»è¯‘æˆ–èµæã€‚
* **âš¡ é«˜æ•ˆç®¡ç†**ï¼š
    * **æ™ºèƒ½ä¹¦æ¶**ï¼šæ”¯æŒæ–‡ä»¶å¯¼å…¥ã€å°é¢è‡ªåŠ¨è§£æã€é•¿æŒ‰åˆ é™¤ä¹¦ç±ã€‚
    * **ç²¾å‡†è·³è½¬**ï¼šä¿®å¤äº† EPUB é”šç‚¹è·³è½¬é—®é¢˜ï¼Œæ”¯æŒç›®å½•ç« èŠ‚ç²¾å‡†å®šä½ã€‚
    * **è¿›åº¦è®°å¿†**ï¼šè‡ªåŠ¨è®°å½•æ¯ä¸€æœ¬ä¹¦çš„é˜…è¯»è¿›åº¦ï¼ˆé¡µç æˆ– CFI ä½ç½®ï¼‰ã€‚
* **âš™ï¸ ä¸ªæ€§åŒ–è®¾ç½®**ï¼š
    * **æŠ¤çœ¼æ¨¡å¼**ï¼šæ”¯æŒç‰©ç†äº®åº¦è°ƒèŠ‚åŠè½¯ä»¶å±‚é¢çš„æš—åº¦é®ç½©ã€‚
    * **æ’ç‰ˆè°ƒæ•´**ï¼šå®æ—¶è°ƒæ•´å­—å·å¤§å°ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

* **æ¡†æ¶**: [Flutter](https://flutter.dev/) (Dart)
* **çŠ¶æ€ç®¡ç†**: [Flutter Riverpod](https://riverpod.dev/)
* **æ•°æ®åº“**: [Isar Database](https://isar.dev/) (é«˜æ€§èƒ½ NoSQL æœ¬åœ°å­˜å‚¨)
* **é˜…è¯»æ ¸å¿ƒ**:
    * `epub_view`: EPUB æ¸²æŸ“ä¸ CFI å®šä½
    * `flutter_pdfview`: PDF åŸç”Ÿæ¸²æŸ“
* **UI ç»„ä»¶**: `dart:ui` (ImageBuffer/Blur), Custom Painters
* **ç½‘ç»œ**: `http` (ç”¨äº AI API è¯·æ±‚)

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Getting Started)

### ç¯å¢ƒè¦æ±‚
* Flutter SDK >= 3.10.0
* Dart SDK >= 3.0.0

### å®‰è£…æ­¥éª¤

1.  **å…‹éš†é¡¹ç›®**
    ```bash
    git clone https://github.com/Liuxd-1230/reader_app.git
    cd reader_app
    ```

2.  **å®‰è£…ä¾èµ–**
    ```bash
    flutter pub get
    ```

3.  **ç”Ÿæˆæ•°æ®åº“ä»£ç **
    æœ¬é¡¹ç›®ä½¿ç”¨ Isar æ•°æ®åº“ï¼Œéœ€è¦è¿è¡Œä»£ç ç”Ÿæˆå™¨ï¼š
    ```bash
    dart run build_runner build --delete-conflicting-outputs
    ```

4.  **é…ç½® API Key (å¯é€‰)**
    ä¸ºäº†ä½¿ç”¨ AI è§£é‡ŠåŠŸèƒ½ï¼Œè¯·åœ¨è®¾ç½®é¢æ¿ä¸­è¾“å…¥ä½ çš„ DeepSeek API Keyï¼Œæˆ–è€…åœ¨ `lib/data/models/reading_settings.dart` ä¸­é…ç½®é»˜è®¤å€¼ã€‚

5.  **è¿è¡Œåº”ç”¨**
    ```bash
    flutter run
    ```

## ğŸ“‚ é¡¹ç›®ç»“æ„ (Project Structure)

```text
lib/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹ (Book, Bookmark, Settings)
â”‚   â””â”€â”€ services/        # æ•°æ®åº“æœåŠ¡ (Isar Service)
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ library_screen.dart # ä¹¦æ¶ä¸»é¡µ (å«æ–‡ä»¶å¯¼å…¥ã€é•¿æŒ‰åˆ é™¤)
â”‚   â””â”€â”€ reading_screen.dart # æ ¸å¿ƒé˜…è¯»é¡µ (å«æ²‰æµ¸å¼é€»è¾‘ã€AI äº¤äº’)
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ frosted_glass_container.dart # æ ¸å¿ƒ UI ç»„ä»¶ï¼šé€šç”¨æ¯›ç»ç’ƒå®¹å™¨
â”‚   â””â”€â”€ readers/         # æ ¼å¼ä¸“ç”¨é˜…è¯»å™¨å°è£… (EPUB/PDF)
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ deepseek_selection_controls.dart # è‡ªå®šä¹‰æ–‡æœ¬é€‰æ‹©èœå• (AI å…¥å£)
â””â”€â”€ main.dart            # å…¥å£æ–‡ä»¶ & å…¨å±€ Theme é…ç½®
